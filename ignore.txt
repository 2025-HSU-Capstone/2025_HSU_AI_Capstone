Cam->>FastAPI: ì´ë¯¸ì§€ ì—…ë¡œë“œ ìš”ì²­
  FastAPI->>Model: ì´ë¯¸ì§€ ì „ì†¡ ë° ê°ì§€ ìš”ì²­
  Model-->>FastAPI: ê°ì§€ëœ ì¬ë£Œ + bbox JSON ë°˜í™˜
  FastAPI->>FastAPI: ë°˜í™˜ëœ JSON â†’ ë‚´ë¶€ì—ì„œ /detect ë¡œì§ ì‹¤í–‰ (ì§ì ‘ í•¨ìˆ˜ í˜¸ì¶œ)
  FastAPI->>DB: ì‹ì¬ë£Œ + bbox ì €ì¥


  âœ… ëª¨ë¸ì„ í˜¸ì¶œí•˜ëŠ” ë¼ìš°í„° ì•ˆì—ì„œ,
ëª¨ë¸ì˜ ì‘ë‹µ(JSON)ì„ ë°›ì€ ë‹¤ìŒì— ë°”ë¡œ process_detection() í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ ë¼.

ê·¸ëŸ¼ process_detection()ì€ ì–´ë””ì„œ ì‹¤í–‰ë¼ì•¼ í•´?
ğŸ‘‰ ì •ë‹µ:
ë¬¸ì´ ì—´ë¦´ ë•Œ íŠ¸ë¦¬ê±° ë˜ëŠ” "ì „ìš© ë¼ìš°í„°" ì•ˆì—ì„œ ì‹¤í–‰ë¼ì•¼ í•´.
/trigger/detect ë¼ìš°í„°
@router.post("/trigger/detect")
def run_detection_trigger(db: Session = Depends(get_db)):
    # 1. ì¹´ë©”ë¼ â†’ ì´ë¯¸ì§€ ì´¬ì˜
    image_path, timestamp = capture_image()

    # 2. ê°ì²´ íƒì§€ ëª¨ë¸ì— ì´ë¯¸ì§€ ì „ì†¡
    result = call_detection_model(image_path)

    # 3. ëª¨ë¸ì´ ë°˜í™˜í•œ ê°ì§€ ê²°ê³¼ë¥¼ payloadë¡œ ê°€ê³µ
    detect_payload = DetectRequest(
        image_filename=image_path.name,
        captured_at=timestamp,
        detected_items=result["detected_items"]
    )

    # 4. ê°ì§€ ê²°ê³¼ DB ì €ì¥
    return process_detection(detect_payload, db)



    

í”„ë¡ íŠ¸ â†’ ë°±ì—”ë“œë¡œ ì „ë‹¬í•  ë•ŒëŠ”?
âœ” ê·¸ ë¬¸ì¥ì„ JSON í¬ë§·ìœ¼ë¡œ ì‹¸ì„œ ë³´ë‚´ì¤˜ì•¼ FastAPIê°€ ì´í•´í•  ìˆ˜ ìˆì–´

ë°±ì—”ë“œ â†’ ëª¨ë¸ ì„œë²„ ìš”ì²­ ì‹œ
ë³´í†µì€ requests.post()ë¡œ ëª¨ë¸ ì„œë²„ì— ìš”ì²­ì„ ë³´ë‚´ê³ ,
ë‚´ìš©ì€ JSON í˜•ì‹ìœ¼ë¡œ ë¬¶ì–´ì„œ ì „ì†¡í•´.

--íë¦„ë„--
[1] /trigger/detect
    â†’ ë”ë¯¸ ì´ë¯¸ì§€ ìº¡ì²˜ + ê°ì§€ ëª¨ë¸ í˜¸ì¶œ (ëª¨ë¸ì€ ì„ì‹œ JSON ë°˜í™˜)
    â†’ ê°ì§€ ê²°ê³¼(DBì— ì‚½ì…): FridgeImage + FoodItem + FoodLog + DetectedBBox

[2] /generate_recipe
    â†’ ê°ì§€ëœ FoodItemë“¤ ê¸°ë°˜ ë ˆì‹œí”¼ ìƒì„± (ëª¨ë¸ ì‘ë‹µ ì‹œë®¬ë ˆì´í„° ì‚¬ìš©)
    â†’ ìƒì„±ëœ ë ˆì‹œí”¼ DB ì €ì¥: Recipe + RecipeIngredient + RecipeImage

[3] /recipe/bbox
    â†’ ê°€ì¥ ìµœì‹  Recipeì˜ ì¬ë£Œì™€ ì¼ì¹˜í•˜ëŠ” DetectedBBoxë¥¼ ìµœì‹  ì´ë¯¸ì§€ ê¸°ì¤€ìœ¼ë¡œ í•„í„°ë§
    â†’ ì´ë¯¸ì§€ íŒŒì¼ëª… + bbox ë¦¬ìŠ¤íŠ¸ ë°˜í™˜